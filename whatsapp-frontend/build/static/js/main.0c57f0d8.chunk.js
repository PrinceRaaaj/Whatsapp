(this["webpackJsonpwhatsapp-clone"]=this["webpackJsonpwhatsapp-clone"]||[]).push([[0],{59:function(e,a,t){e.exports=t(92)},64:function(e,a,t){},65:function(e,a,t){},66:function(e,a,t){},67:function(e,a,t){},91:function(e,a,t){},92:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(18),l=t.n(r),m=(t(64),t(6)),s=t(22),o=t(3),u=(t(65),t(32)),i=t(109),E=t(110),d=t(53),b=t.n(d),p=t(51),h=t.n(p),f=t(52),v=t.n(f),_=t(54),g=t.n(_),j=(t(66),t(28)),O=t.n(j);t(67);function N(e){var a=e.id,t=e.room,r=Object(n.useState)(""),l=Object(m.a)(r,2),o=l[0],u=l[1];return Object(n.useEffect)((function(){u(Math.floor(100*Math.random()))}),[]),c.a.createElement(s.b,{to:"/rooms/".concat(a)},c.a.createElement("div",{className:"sidebarChat"},c.a.createElement(E.a,{src:"https://avatars.dicebear.com/api/avataaars/".concat(o,".svg")}),c.a.createElement("div",{className:"sidebarChat__info"},c.a.createElement("h2",null,t.roomName))))}var S=t(50),w=t.n(S).a.create({baseURL:"http://localhost:9000"});function C(){var e=Object(n.useState)([]),a=Object(m.a)(e,2),t=a[0],r=a[1];Object(n.useEffect)((function(){w.get("/rooms/get").then((function(e){r(e.data)}))}),[]),Object(n.useEffect)((function(){var e=new O.a("16c74566fc8f85841108",{cluster:"ap2"}).subscribe("rooms");return e.bind("inserted",(function(e){r([].concat(Object(u.a)(t),[e]))})),function(){e.unbind_all(),e.unsubscribe()}}),[t]);return c.a.createElement("div",{className:"sidebar"},c.a.createElement("div",{className:"sidebar__header"},c.a.createElement(i.a,null,c.a.createElement(E.a,null)),c.a.createElement("div",{className:"sidebar__headerRight"},c.a.createElement(i.a,null,c.a.createElement(h.a,null)),c.a.createElement(i.a,null,c.a.createElement(v.a,null)),c.a.createElement(i.a,null,c.a.createElement(b.a,null)))),c.a.createElement("div",{className:"sidebar__search"},c.a.createElement("div",{className:"sidebar__searchContainer"},c.a.createElement(g.a,null),c.a.createElement("input",{type:"text",placeholder:"Search or Start a new chat"}))),c.a.createElement("div",{className:"sidebar__chats"},c.a.createElement("div",{onClick:function(){var e=prompt("Please Enter name for Chat");w.post("/rooms/create",{roomName:e})},className:"sidebarChat"},c.a.createElement("h2",null,"Add New Chat")),t.map((function(e){return c.a.createElement(N,{key:e._id,id:e._id,room:e})}))))}var y=t(106),k=t(107),x=t(108),M=t(55),I=t.n(M),A=t(56),L=t.n(A);t(91);function R(e){var a=e.name,t=Object(n.useState)(""),r=Object(m.a)(t,2),l=r[0],s=r[1],d=Object(n.useState)(""),b=Object(m.a)(d,2),p=b[0],h=b[1],f=Object(n.useState)([]),v=Object(m.a)(f,2),_=v[0],g=v[1],j=Object(n.useState)(""),N=Object(m.a)(j,2),S=N[0],C=N[1],M=Object(n.useState)(""),A=Object(m.a)(M,2),R=A[0],W=A[1],q=Object(o.f)().roomId;return Object(n.useEffect)((function(){w.get("/rooms/".concat(q,"/get")).then((function(e){C(e.data.roomName),g(e.data.messages)}))}),[q]),Object(n.useEffect)((function(){var e=new O.a("16c74566fc8f85841108",{cluster:"ap2"}).subscribe("rooms");return e.bind("updated",(function(e){g([].concat(Object(u.a)(_),[e]))})),function(){e.unbind_all(),e.unsubscribe()}}),[_]),Object(n.useEffect)((function(){h(Math.floor(1e3*Math.random()))}),[]),c.a.createElement("div",{className:"chat"},c.a.createElement("div",{className:"chat__header"},c.a.createElement(E.a,{src:"https://avatars.dicebear.com/api/avataaars/".concat(p,".svg")}),c.a.createElement("div",{className:"chat__headerInfo"},c.a.createElement("h3",null,S),c.a.createElement("p",null,R)),c.a.createElement("div",{className:"chat__headerRight"},c.a.createElement(i.a,null,c.a.createElement(y.a,null)),c.a.createElement(i.a,null,c.a.createElement(k.a,null)),c.a.createElement(i.a,null,c.a.createElement(x.a,null)))),c.a.createElement("div",{className:"chat__body"},_.map((function(e){return c.a.createElement("div",{className:"chat__message ".concat(a===e.name&&"chat__receiver"),key:e._id},c.a.createElement("span",{className:"chat__name"},e.name),e.message,c.a.createElement("span",{className:"chat__timestamp"},e.timeStamp))}))),c.a.createElement("div",{className:"chat__footer"},c.a.createElement(I.a,null),c.a.createElement("form",null,c.a.createElement("input",{type:"text",placeholder:"Type a message",value:l,onChange:function(e){return s(e.target.value)}}),c.a.createElement("button",{onClick:function(e){var t=(new Date).toLocaleString();w.post("/rooms/".concat(q,"/newMessage"),{name:a,message:l,timeStamp:t}),e.preventDefault(),W(t),s("")},type:"submit"},"Submit")),c.a.createElement(L.a,null)))}var W=function(){var e=Object(n.useState)(),a=Object(m.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)(""),u=Object(m.a)(l,2),i=u[0],E=u[1],d=Object(n.useState)(""),b=Object(m.a)(d,2),p=b[0],h=b[1];return c.a.createElement("div",{className:"app"},t?c.a.createElement("div",{className:"app__body"},c.a.createElement(s.a,null,c.a.createElement(C,null),c.a.createElement(o.c,null,c.a.createElement(o.a,{path:"/rooms/:roomId/"},c.a.createElement(R,{name:i})),c.a.createElement(o.a,{path:"/"})))):c.a.createElement("div",{className:"app__login"},c.a.createElement("img",{className:"app__img",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/WhatsApp.svg/766px-WhatsApp.svg.png"}),c.a.createElement("h1",null,"Sign into Whatsapp"),c.a.createElement("form",null,c.a.createElement("input",{type:"text",placeholder:"Enter Full Name",value:i,onChange:function(e){return E(e.target.value)},required:!0}),c.a.createElement("input",{type:"text",placeholder:"Enter Mobile Number",value:p,onChange:function(e){return h(e.target.value)},required:!0}),c.a.createElement("button",{onClick:function(e){r(""!==i&&""!==p)}},"Login"))))};l.a.render(c.a.createElement(W,null),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.0c57f0d8.chunk.js.map